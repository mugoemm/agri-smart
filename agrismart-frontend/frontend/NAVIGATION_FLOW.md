# AgriSmart Navigation Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         HOMEPAGE (/)                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  Not Logged In:                                         â”‚    â”‚
â”‚  â”‚  â€¢ Hero Section                                         â”‚    â”‚
â”‚  â”‚  â€¢ Featured Produce                                     â”‚    â”‚
â”‚  â”‚  â€¢ Price Insights                                       â”‚    â”‚
â”‚  â”‚  â€¢ Testimonials                                         â”‚    â”‚
â”‚  â”‚  â€¢ [Login Button] â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                       â”‚                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  Logged In:                        â–¼                     â”‚    â”‚
â”‚  â”‚  â€¢ Hero Section              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚    â”‚
â”‚  â”‚  â€¢ ROLE SELECTION:           â”‚  LOGIN   â”‚               â”‚    â”‚
â”‚  â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚  PAGE    â”‚               â”‚    â”‚
â”‚  â”‚    â”‚ Continue as     â”‚       â”‚ /login   â”‚               â”‚    â”‚
â”‚  â”‚    â”‚   FARMER  ğŸ§‘â€ğŸŒ¾   â”‚       â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜               â”‚    â”‚
â”‚  â”‚    â”‚ (Green Card)    â”‚            â”‚                     â”‚    â”‚
â”‚  â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜    Email/Phone                   â”‚    â”‚
â”‚  â”‚             â”‚             Password                       â”‚    â”‚
â”‚  â”‚             â”‚             [Sign In] â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚    â”‚
â”‚  â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚         â”‚           â”‚    â”‚
â”‚  â”‚    â”‚ Continue as     â”‚            â”‚    Sign Up Toggle   â”‚    â”‚
â”‚  â”‚    â”‚   BUYER  ğŸ›’     â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    (Select Role)    â”‚    â”‚
â”‚  â”‚    â”‚ (Blue Card)     â”‚                                  â”‚    â”‚
â”‚  â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                  â”‚    â”‚
â”‚  â”‚             â”‚                                            â”‚    â”‚
â”‚  â”‚  â€¢ Featured Produce                                     â”‚    â”‚
â”‚  â”‚  â€¢ Price Insights                                       â”‚    â”‚
â”‚  â”‚  â€¢ Testimonials                                         â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚                     â”‚
                   â”‚                     â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  FARMER DASHBOARD   â”‚  â”‚  BUYER DASHBOARD â”‚
        â”‚  /farmer/dashboard  â”‚  â”‚ /buyer/dashboard â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚                     â”‚
                   â”‚                     â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
    â”‚ Category Selection:          â”‚     â”‚
    â”‚                              â”‚     â”‚
    â”‚  ğŸŒ± HORTICULTURE             â”‚     â”‚
    â”‚     â€¢ Vegetables ğŸ¥•          â”‚     â”‚
    â”‚     â€¢ Fruits ğŸ              â”‚     â”‚
    â”‚                              â”‚     â”‚
    â”‚  ğŸ¾ ANIMAL HUSBANDRY         â”‚     â”‚
    â”‚     â€¢ Poultry ğŸ”             â”‚     â”‚
    â”‚     â€¢ Cattle ğŸ„              â”‚     â”‚
    â”‚     â€¢ Goats ğŸ               â”‚     â”‚
    â”‚                              â”‚     â”‚
    â”‚  â˜• CASH CROPS               â”‚     â”‚
    â”‚     â€¢ Coffee â˜•              â”‚     â”‚
    â”‚     â€¢ Avocados ğŸ¥‘            â”‚     â”‚
    â”‚     â€¢ Tea ğŸµ                 â”‚     â”‚
    â”‚                              â”‚     â”‚
    â”‚  [+ New Listing] Button      â”‚     â”‚
    â”‚  [Edit] [Delete] per item    â”‚     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
                                         â”‚
                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                          â”‚ Marketplace Browser:        â”‚
                          â”‚                             â”‚
                          â”‚  Category Filter Cards:     â”‚
                          â”‚  â€¢ All Categories           â”‚
                          â”‚  â€¢ Horticulture ğŸŒ±         â”‚
                          â”‚  â€¢ Animal Husbandry ğŸ¾     â”‚
                          â”‚  â€¢ Cash Crops â˜•           â”‚
                          â”‚                             â”‚
                          â”‚  Search & Filters:          â”‚
                          â”‚  ğŸ” Search produce...       â”‚
                          â”‚  ğŸ“ Location filter         â”‚
                          â”‚  ğŸ’° Price range (min/max)   â”‚
                          â”‚                             â”‚
                          â”‚  Listings Grid:             â”‚
                          â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”       â”‚
                          â”‚  â”‚Tomatoesâ”‚ â”‚Maize â”‚       â”‚
                          â”‚  â”‚KES 80 â”‚ â”‚KES 50â”‚       â”‚
                          â”‚  â”‚Nairobiâ”‚ â”‚Nakuruâ”‚       â”‚
                          â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
                          â”‚                             â”‚
                          â”‚  [View Details & Contact]   â”‚
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ADMIN PANEL (/admin)                       â”‚
â”‚                     (Restricted to admin role)                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Dashboard Stats:                                         â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚  â”‚
â”‚  â”‚  â”‚ Total   â”‚ â”‚ Total   â”‚ â”‚ Total   â”‚ â”‚  Total   â”‚       â”‚  â”‚
â”‚  â”‚  â”‚ Users   â”‚ â”‚ Farmers â”‚ â”‚ Buyers  â”‚ â”‚ Listings â”‚       â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚  â”‚
â”‚  â”‚                                                            â”‚  â”‚
â”‚  â”‚  Management Sections:                                     â”‚  â”‚
â”‚  â”‚  â€¢ ğŸ‘¥ User Management                                     â”‚  â”‚
â”‚  â”‚  â€¢ ğŸ›’ Listing Management                                  â”‚  â”‚
â”‚  â”‚  â€¢ ğŸ“Š Analytics & Reports                                 â”‚  â”‚
â”‚  â”‚  â€¢ ğŸ”’ Security Settings                                   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              NAVIGATION BAR (All Pages)                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  AgriSmart ğŸŒ¿  [Home] [Marketplace] [Prices]     â”‚  â”‚
â”‚  â”‚                                                    â”‚  â”‚
â”‚  â”‚  When NOT logged in:                              â”‚  â”‚
â”‚  â”‚                              [Login Button] â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚                                                 â”‚  â”‚  â”‚
â”‚  â”‚  When logged in:                                â”‚  â”‚  â”‚
â”‚  â”‚     Welcome, Jane â”‚ [Home] [Logout Button] â—„â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Route Protection Logic

```
User Access Flow:
â”œâ”€â”€ Not Authenticated
â”‚   â”œâ”€â”€ Can access: / (Home), /login
â”‚   â””â”€â”€ Redirected to /login: All dashboards, /admin
â”‚
â”œâ”€â”€ Authenticated as FARMER
â”‚   â”œâ”€â”€ Can access: /, /login, /farmer/dashboard
â”‚   â””â”€â”€ Redirected if accessing: /buyer/dashboard â†’ /farmer/dashboard
â”‚                                  /admin â†’ /
â”‚
â”œâ”€â”€ Authenticated as BUYER
â”‚   â”œâ”€â”€ Can access: /, /login, /buyer/dashboard
â”‚   â””â”€â”€ Redirected if accessing: /farmer/dashboard â†’ /buyer/dashboard
â”‚                                  /admin â†’ /
â”‚
â””â”€â”€ Authenticated as ADMIN
    â”œâ”€â”€ Can access: All routes including /admin
    â””â”€â”€ No redirects
```

## State Management

```
AuthContext provides:
â”œâ”€â”€ user          (User object or null)
â”œâ”€â”€ role          (farmer | buyer | admin | null)
â”œâ”€â”€ loading       (boolean)
â”œâ”€â”€ login()       (email, password) â†’ Promise
â”œâ”€â”€ register()    (userData) â†’ Promise
â”œâ”€â”€ logout()      â†’ void
â””â”€â”€ selectRole()  (role) â†’ Navigate to dashboard
```

## Key Interactions

1. **Homepage â†’ Login â†’ Role Selection â†’ Dashboard**
   - User clicks "Login" on homepage
   - Enters credentials on /login
   - Redirects to /home (now logged in)
   - Sees role selection cards
   - Clicks role card â†’ navigates to appropriate dashboard

2. **Direct Dashboard Access**
   - User bookmarks /farmer/dashboard
   - Visits URL directly
   - If not logged in â†’ redirected to /login
   - After login â†’ redirected back to /farmer/dashboard

3. **Cross-Role Navigation**
   - Farmer visits /buyer/dashboard
   - System checks role in useEffect
   - Automatically redirects to /farmer/dashboard

4. **Logout Flow**
   - User clicks "Logout" from any page
   - AuthContext clears user/role
   - Navigates to / (homepage)
   - Homepage shows public version (no role selection)
